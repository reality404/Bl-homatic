<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title> Spin me right round like a sheep </title>
<style>
  body{
    margin: 0 auto;
    overflow: hidden;
    font-family: Twemoji Mozilla;
  }

</style>
</head>
<body>

<script>

const container = document.createElement('div'); 
container.id = "container";
document.body.appendChild(container);  

const canvas = document.createElement('canvas');  
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
canvas.classList.add("canvas");
canvas.style.position = "absolute"; 
canvas.style.zIndex = +2; 
container.appendChild(canvas);           
const ctx = canvas.getContext('2d');

const canvasO = document.createElement('canvas');  
canvasO.width = 600;
canvasO.height = 100;          
const ctxO = canvasO.getContext('2d');

//ctxO.textBaseline = 'middle'; 
//ctxO.textAlign = 'center'; 
//ctxO.font = "100px Arial";
//ctxO.fillText('üêè', canvasO.width/2, canvasO.height/2);

let cubeSideColour=["red","orange","yellow","green","blue","indigo"];

for (let i = 0; i < cubeSideColour.length; i++) {
  ctxO.fillStyle = cubeSideColour[i];
  ctxO.fillRect(100*i, 0, 100, 100);
}




//ctx.drawImage(canvasO,(canvas.width/2)-100,(canvas.height/2)-100); 

/*function drawLine(context,style,start,end){
  context.beginPath();
  context.moveTo(...start);
  context.lineTo(...end);
  context.strokeStyle = style;
  context.stroke(); 
}
drawLine(ctx,"blue",[400,400],[400,600]);
drawLine(ctx,"green",[200,400],[400,600]);*/ 

/*function drawLine(context, style, x1, y1, length, angle) {    
    context.moveTo(x1, y1);  
    radians = angle * (Math.PI/180);     
    let x2 = x1 + Math.cos(radians ) * length;	 
    let y2 = y1 + Math.sin(radians ) * length;	   
    context.lineTo(x2, y2);   
    context.strokeStyle = style;    
    context.stroke();
}

drawLine(ctx,"blue",200, 200, 100, 90); 

drawLine(ctx,"blue",200, 300, 100, 210);

drawLine(ctx,"blue",200, 300, 100, -30);

drawLine(ctx,"blue",200, 300, 100, -30);*/




//var x = canvas.width / 2;
//var y = canvas.height / 2;
//var width = image.width;
//var height = image.height;

//function rotate(context,image,width,height,angleInRadians){
function rotate(context, image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight,x,y,angleInRadians){
  context.translate(x, y);
  context.rotate(angleInRadians);
  //context.drawImage(image, -width / 2, -height / 2, width, height);
  context.drawImage(image,sx, sy, sWidth, sHeight, -dx / 2, -dy / 2, dWidth, dHeight);
  context.rotate(-angleInRadians);
  context.translate(-x, -y);
}

//rotate(ctx,canvasO,canvasO.width,canvasO.height,160);

//drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
rotate(ctx,canvasO, 0, 0, 100, 100, 0, 0, 100, 100,200,200,0)

//rotate(ctx,canvasO, 100, 0, 100, 100, 0, 0, 100, 100,400,200,210)



let count = 0;
let countM = 360;
function repeatOften() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  count += 0.05;
  countM -= 0.05;
  if (count == 360 || count > 360){
    count = 0;
  }

  if (countM == 0 || countM < 0){
    countM = 360;
  }
  console.log(count)
  rotate(ctx,canvasO,canvasO.width,canvasO.height,count);
  rotate(ctx,canvasM,canvasO.width,canvasO.height,countM);
  // Do whatever

  requestAnimationFrame(repeatOften);
}
//requestAnimationFrame(repeatOften);


</script>
</body>
</html>
